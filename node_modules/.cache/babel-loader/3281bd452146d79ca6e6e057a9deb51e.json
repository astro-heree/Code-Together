{"ast":null,"code":"import _slicedToArray from\"/Users/amankumar/Code-Together/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React,{useCallback}from'react';import{useState}from'react';import toast from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var States={\"INPUT\":\"input\",\"OUTPUT\":\"output\"};var CodeRun=function CodeRun(_ref){var codeRef=_ref.codeRef;var _useState=useState(States.INPUT),_useState2=_slicedToArray(_useState,2),currentState=_useState2[0],setCurrentState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),input=_useState4[0],setInput=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),output=_useState6[0],setOutput=_useState6[1];var _useState7=useState(\"5\"),_useState8=_slicedToArray(_useState7,2),language=_useState8[0],setLanguage=_useState8[1];var runCode=function runCode(){toast.success(\"Running Code\");var options={method:\"POST\",url:\"https://code-compiler.p.rapidapi.com/v2\",headers:{\"content-type\":\"application/x-www-form-urlencoded\",\"x-rapidapi-host\":\"code-compiler.p.rapidapi.com\",\"x-rapidapi-key\":\"0ca192bd34mshca25146e7ea1142p17a87ajsn20830dca802b\"},data:{LanguageChoice:language,Program:codeRef.current,Input:input}};axios.request(options).then(function(response){if(response.data.Errors){setOutput(response.data.Errors);toast.error(\"Code failed !\");}else{setOutput(response.data.Result);toast.success(\"Code executed successfully !\");}setCurrentState(States.OUTPUT);}).catch(function(error){console.error(error);setOutput(error);setCurrentState(States.OUTPUT);toast.error(\"Code failed !\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"inputOutputWrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btnWrap\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{style:{opacity:currentState===States.INPUT?\"1\":\"0.8\"},onClick:function onClick(){return setCurrentState(States.INPUT);},children:\"Input\"}),/*#__PURE__*/_jsx(\"button\",{style:{opacity:currentState===States.OUTPUT?\"1\":\"0.8\"},onClick:function onClick(){return setCurrentState(States.OUTPUT);},children:\"Output\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){return setLanguage(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"Python\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"C++\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"Java\"}),/*#__PURE__*/_jsx(\"option\",{value:\"17\",children:\"JavaScript\"})]}),/*#__PURE__*/_jsx(\"button\",{ref:codeRef,onClick:runCode,children:\"Run\"})]})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"\",id:\"\",cols:\"30\",rows:\"10\",placeholder:\"Enter your input here...\",readOnly:currentState===States.OUTPUT,value:currentState===States.INPUT?input:output,onChange:function onChange(e){return setInput(e.target.value);}})]});};export default CodeRun;","map":{"version":3,"names":["axios","React","useCallback","useState","toast","States","CodeRun","codeRef","INPUT","currentState","setCurrentState","input","setInput","output","setOutput","language","setLanguage","runCode","success","options","method","url","headers","data","LanguageChoice","Program","current","Input","request","then","response","Errors","error","Result","OUTPUT","catch","console","opacity","e","target","value"],"sources":["/Users/amankumar/Code-Together/src/components/CodeRun.jsx"],"sourcesContent":["import axios from 'axios';\nimport React, { useCallback } from 'react'\nimport { useState } from 'react';\nimport toast from 'react-hot-toast';\n\nconst States = {\n    \"INPUT\": \"input\",\n    \"OUTPUT\": \"output\"\n}\n\nconst CodeRun = ({codeRef}) => {\n    const [currentState, setCurrentState] = useState(States.INPUT);\n    const [input, setInput] = useState(\"\");\n    const [output, setOutput] = useState(\"\");\n    const [language, setLanguage] = useState(\"5\");\n\n    \n    const runCode = () => {\n        toast.success(\"Running Code\");\n        var options = {\n          method: \"POST\",\n          url: \"https://code-compiler.p.rapidapi.com/v2\",\n          headers: {\n            \"content-type\": \"application/x-www-form-urlencoded\",\n            \"x-rapidapi-host\": \"code-compiler.p.rapidapi.com\",\n            \"x-rapidapi-key\":\n              \"0ca192bd34mshca25146e7ea1142p17a87ajsn20830dca802b\",\n          },\n          data: {\n            LanguageChoice: language,\n            Program: codeRef.current,\n            Input: input\n          },\n        };\n\n        axios\n          .request(options)\n          .then(function (response) {\n              if (response.data.Errors) {\n                  setOutput(response.data.Errors);\n                  toast.error(\"Code failed !\");\n              }\n              else {\n                  setOutput(response.data.Result);\n                  toast.success(\"Code executed successfully !\");\n              }\n              setCurrentState(States.OUTPUT)\n              \n          })\n          .catch(function (error) {\n              console.error(error);\n              setOutput(error);\n              setCurrentState(States.OUTPUT);\n              toast.error(\"Code failed !\");\n          });\n    }\n\n  return (\n    <div className=\"inputOutputWrap\">\n      <div className=\"btnWrap\">\n        <div>\n          <button\n            style={{ opacity: currentState === States.INPUT ? \"1\" : \"0.8\" }}\n            onClick={() => setCurrentState(States.INPUT)}\n          >\n            Input\n          </button>\n          <button\n            style={{ opacity: currentState === States.OUTPUT ? \"1\" : \"0.8\" }}\n            onClick={() => setCurrentState(States.OUTPUT)}\n          >\n            Output\n          </button>\n        </div>\n        <div>\n            <select onChange={(e) => setLanguage(e.target.value)}>\n                <option value=\"5\" >Python</option>\n                <option value=\"7\" >C++</option>\n                <option value=\"4\" >Java</option>\n                <option value=\"17\" >JavaScript</option>\n            </select>\n          <button ref={codeRef} onClick={runCode} >Run</button>\n        </div>\n      </div>\n      <textarea\n        name=\"\"\n        id=\"\"\n        cols=\"30\"\n        rows=\"10\"\n        placeholder=\"Enter your input here...\"\n        readOnly={currentState === States.OUTPUT}\n        value={currentState === States.INPUT ? input : output}\n        onChange={(e) => setInput(e.target.value)}\n      ></textarea>\n    </div>\n  );\n}\n\nexport default CodeRun;"],"mappings":"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"},"metadata":{},"sourceType":"module"}